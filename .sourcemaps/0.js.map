{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/pages/register/register.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACN;AAU1C,IAAa,kBAAkB;IAA/B;IAAiC,CAAC;IAAD,yBAAC;AAAD,CAAC;AAArB,kBAAkB;IAR9B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,+DAAY;SACb;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,+DAAY,CAAC;SACvC;KACF,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZW;AAC0B;AAEO;AAIhC;AACgC;AAC3B;AACI;AASpD,IAAa,YAAY;IAUvB,sBAAoB,MAAuB,EAClC,OAAsB,EACtB,SAAoB,EACnB,SAA0B,EAC1B,SAAoB,EACpB,SAA0B,EAC3B,WAA8B;QANnB,WAAM,GAAN,MAAM,CAAiB;QAClC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAW;QACpB,cAAS,GAAT,SAAS,CAAiB;QAC3B,gBAAW,GAAX,WAAW,CAAmB;QAVvC,SAAI,GAAG,EAAU,CAAC;IAWnB,CAAC;IAEI,+BAAQ,GAAd,UAAe,IAAU;;gBAIjB,KAAK,EAaL,KAAK;;;;;wBAfV,EAAE,EAAC,IAAI,CAAC,QAAQ,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,YAAY,IAAI,EAAE,CAAC,EAAC;4BACtE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oCAChB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gCAChC,OAAO,EAAE,2BAA2B;gCACpC,QAAQ,EAAE,IAAI;gCACd,eAAe,EAAE,IAAI;gCACrB,eAAe,EAAE,QAAQ;gCACzB,QAAQ,EAAE,QAAQ;gCAClB,QAAQ,EAAE,cAAc;gCACxB,mBAAmB,EAAE,IAAI;6BAC1B,CAAC;4BACF,KAAK,CAAC,OAAO,EAAE,CAAC;wBACjB,CAAC;6BACE,KAAI,CAAC,YAAY,IAAI,IAAI,CAAC,QAAQ,GAAlC,wBAAkC;wBACpC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gCAChB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAChC,OAAO,EAAE,8BAA8B;4BACvC,QAAQ,EAAE,IAAI;4BACd,eAAe,EAAE,IAAI;4BACrB,eAAe,EAAE,QAAQ;4BACzB,QAAQ,EAAE,KAAK;4BACf,QAAQ,EAAE,cAAc;4BACxB,mBAAmB,EAAE,IAAI;yBAC1B,CAAC;wBACF,KAAK,CAAC,OAAO,EAAE,CAAC;;4BAGE,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC;;iCAAhF,SAAgF;wBAC/F,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;4BACnB,IAAI,CAAC,eAAe,EAAE,CAAC;4BACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gCACrC,kBAAkB;gCAClB,OAAO,EAAE,uDAAuD;gCAChE,QAAQ,EAAE,IAAI;gCACd,mBAAmB,EAAE,IAAI;6BAC1B,CAAC,CAAC;4BACH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;4BACvB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,+DAAS,CAAC,CAAC;wBAClC,CAAC;;;;;wBAGL,OAAO,CAAC,KAAK,CAAC,OAAK,CAAC,CAAC;wBACrB,EAAE,CAAC,CAAC,OAAK,CAAC,IAAI,IAAI,qBAAqB,CAAC,CAAC,CAAC;4BACxC,IAAI,CAAC,sBAAsB,EAAE,CAAC;4BAC9B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBAC9B,CAAC;wBACD,EAAE,CAAC,CAAC,OAAK,CAAC,IAAI,IAAI,oBAAoB,CAAC,CAAC,CAAC;4BACvC,IAAI,CAAC,oBAAoB,EAAE,CAAC;wBAC9B,CAAC;wBACD,EAAE,CAAC,CAAC,OAAK,CAAC,IAAI,IAAI,oBAAoB,CAAC,CAAC,CAAC;4BACvC,IAAI,CAAC,uBAAuB,EAAE,CAAC;4BAC/B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBAC9B,CAAC;wBACD,EAAE,CAAC,CAAC,OAAK,CAAC,IAAI,IAAI,2BAA2B,CAAC,CAAC,CAAC;4BAC9C,IAAI,CAAC,oBAAoB,EAAE,CAAC;4BAC5B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBAC9B,CAAC;;;;;;KAEH;IAGD,6CAAsB,GAAtB;QACC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,sCAAsC;YAC/C,QAAQ,EAAE,IAAI;YACd,eAAe,EAAE,IAAI;YACrB,eAAe,EAAE,QAAQ;YACzB,QAAQ,EAAE,QAAQ;YAClB,QAAQ,EAAE,cAAc;YACxB,mBAAmB,EAAE,IAAI;SAE1B,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,2CAAoB,GAApB;QACE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,wDAAwD;YACjE,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,cAAc;YACxB,eAAe,EAAE,IAAI;YACrB,eAAe,EAAE,QAAQ;YACzB,mBAAmB,EAAE,IAAI;YACzB,QAAQ,EAAE,QAAQ;SACrB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAEF,8CAAuB,GAAvB;QACC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,gDAAgD;YACzD,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,cAAc;YACxB,eAAe,EAAE,IAAI;YACrB,eAAe,EAAE,QAAQ;YACzB,mBAAmB,EAAE,IAAI;YACzB,QAAQ,EAAE,QAAQ;SACrB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,2CAAoB,GAApB;QACC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,OAAO,EAAE,yCAAyC;YAClD,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,cAAc;YACxB,eAAe,EAAE,IAAI;YACrB,eAAe,EAAE,QAAQ;YACzB,mBAAmB,EAAE,IAAI;YACzB,QAAQ,EAAE,KAAK;SAChB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,sCAAe,GAAf;QACC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,uCAAuC;YAChD,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,KAAK;YACf,QAAQ,EAAE,aAAa;YACvB,eAAe,EAAE,IAAI;YACrB,eAAe,EAAE,QAAQ;SAE1B,CAAC,CAAC;QAEH,KAAK,CAAC,YAAY,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAGD,mBAAC;AAAD,CAAC;AA9JY,YAAY;IALxB,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,eAAe;OACG;KAC7B,CAAC;6EAW2C;QACzB,iEAAa;QACX,sEAAS;QACR,2EAAe;QACf,sEAAS;QACT,wEAAe;QACd,SAAiB;AA8IxC;SA9JY,YAAY,e","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AngularFireModule} from 'angularfire2';\nimport { AngularFireAuthModule,AngularFireAuth, } from 'angularfire2/auth';\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\nimport { Firebase }  from 'firebase/database';\nimport { TabsPage } from '../tabs/tabs';\nimport { LoginPage } from '../login/login';\nimport { AlertController, LoadingController ,Loading} from 'ionic-angular';\nimport { ToastController } from 'ionic-angular';\nimport { Vibration } from '@ionic-native/vibration';\nimport { User } from '../../models/user';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n  username:string;\n  password:string;\n  Mensaje:string;\n  passwordconfirm:string;\n  \n  user = {} as User;\n  passRepetida: string;\n  public loading: Loading;\n\n  constructor(private authAf: AngularFireAuth,\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private alertCtrl: AlertController,\n    private vibration: Vibration,\n    private toastCtrl: ToastController,\n    public loadingCtrl: LoadingController) {\n }\n\nasync register(user: User){\n try {\n   if(user.password == \"\" || user.email == \"\" || this.passRepetida == \"\"){\n    this.vibration.vibrate(500);\n    let toast = this.toastCtrl.create({\n      message: 'Complete todos los campos',\n      duration: 1500,\n      showCloseButton: true,\n      closeButtonText: 'Cerrar',\n      position: 'bottom',\n      cssClass: \"ToastWarning\",\n      dismissOnPageChange: true,\n    });\n    toast.present();\n   }\n   if(this.passRepetida != user.password){\n    this.vibration.vibrate(500);\n    let toast = this.toastCtrl.create({\n      message: 'Las contraseñas no coinciden',\n      duration: 1500,\n      showCloseButton: true,\n      closeButtonText: 'Cerrar',\n      position: 'top',\n      cssClass: \"ToastWarning\",\n      dismissOnPageChange: true,\n    });\n    toast.present();\n   }\n   else{\n       const result = await this.authAf.auth.createUserWithEmailAndPassword(user.email, user.password);\n       if (result != null) {\n         this.registroExitoso();\n         this.loading = this.loadingCtrl.create({\n           //spinner: 'hide',\n           content: '<ion-spinner name=\"bubbles\">Cargando...</ion-spinner>',\n           duration: 3000,\n           dismissOnPageChange: true,\n         });\n         this.loading.present();\n         this.navCtrl.setRoot(LoginPage);\n       }\n     }\n } catch (error) {\n   console.error(error);\n   if (error.code == \"auth/argument-error\") {\n     this.camposIncompletosError();\n     this.vibration.vibrate(500);\n   }\n   if (error.code == \"auth/invalid-email\") {\n     this.usuarioInvalidoError();\n   }\n   if (error.code == \"auth/weak-password\") {\n     this.contraseñaInvalidaError();\n     this.vibration.vibrate(500);\n   }\n   if (error.code == \"auth/email-already-in-use\") {\n     this.usuarioRepetidoError();\n     this.vibration.vibrate(500);\n   }\n }\n}\n\n\ncamposIncompletosError() {\n this.vibration.vibrate(500);\n let toast = this.toastCtrl.create({\n   message: 'Por favor, complete todos los campos',\n   duration: 1500,\n   showCloseButton: true,\n   closeButtonText: 'Cerrar',\n   position: 'bottom',\n   cssClass: \"ToastWarning\",\n   dismissOnPageChange: true,\n\n });\n toast.present();\n}\n\nusuarioInvalidoError() {\n  this.vibration.vibrate(500);\n    let toast = this.toastCtrl.create({\n      message: 'Usuario inválido. Por favor, ingrese un usuario válido',\n      duration: 1500,\n      cssClass: \"ToastWarning\",\n      showCloseButton: true,\n      closeButtonText: \"Cerrar\",\n      dismissOnPageChange: true,\n      position: 'middle'\n  });\n  toast.present();\n }\n\ncontraseñaInvalidaError() {\n this.vibration.vibrate(500);\n   let toast = this.toastCtrl.create({\n     message: 'La contraseña debe tener al menos 6 caracteres',\n     duration: 1500,\n     cssClass: \"ToastWarning\",\n     showCloseButton: true,\n     closeButtonText: \"Cerrar\",\n     dismissOnPageChange: true,\n     position: 'middle'\n });\n toast.present();\n}\n\nusuarioRepetidoError() {\n this.vibration.vibrate(500);\n   let toast = this.toastCtrl.create({\n   message: 'El usuario que desea ingresar ya existe',\n   duration: 1500,\n   cssClass: \"ToastWarning\",\n   showCloseButton: true,\n   closeButtonText: \"Cerrar\",\n   dismissOnPageChange: true,\n   position: 'top'    \n });\n toast.present();\n}\n\nregistroExitoso() {\n let toast = this.toastCtrl.create({\n   message: 'Su cuenta ha sido creada exitosamente',\n   duration: 1500,\n   position: 'top',\n   cssClass: \"ToastAssert\",\n   showCloseButton: true,\n   closeButtonText: \"Cerrar\",\n   //dismissOnPageChange: true\n });\n\n toast.onDidDismiss(() => {\n   console.log('Dismissed toast');\n });\n\n toast.present();\n}\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}